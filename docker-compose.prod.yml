version: '3.8'

services:
  md2any:
    build:
      context: .
      dockerfile: Dockerfile.prod
    ports:
      - "5002:5002"
    volumes:
      # Mount CSS files as volume for live updates without rebuild
      - ./chinese_news_colorful.css:/app/chinese_news_colorful.css
      - ./chinese_news_extracted.css:/app/chinese_news_extracted.css
      - ./sample.css:/app/sample.css
      - ./square.css:/app/square.css
      - ./test.css:/app/test.css
      - ./yata.css:/app/yata.css
    environment:
      - FLASK_ENV=production
      # WeChat API configuration (set your actual credentials)
      # - WECHAT_APPID=${WECHAT_APPID}
      # - WECHAT_SECRET=${WECHAT_SECRET}
    restart: unless-stopped